import{u as g,j as a,a as e,H as h,L as b}from"./app-371f93f6.js";import{A as p}from"./AuthenticatedLayout-59a50754.js";import"./ApplicationLogo-83c6d73e.js";import"./transition-e4f4519e.js";function y(i){const{data:s,setData:o,errors:d,post:n}=g({movies:[],title:"",imdb_id:""});function m(t){t.preventDefault(),n(route("records.store"))}function c(t){o("title",t.target.value),s.imdb_id||u(t.target.value)}function l(t){axios.get("/ajax/fetch",{params:{imdb_id:t}}).then(r=>{o({title:r.data.Title,imdb_id:r.data.imdbID,description:r.data.Plot,genres:r.data.Genre,released_at:r.data.Released,runtime:r.data.Runtime,director:r.data.Director,actors:r.data.Actors,meta_score:r.data.Metascore,imdb_rating:r.data.imdbRating,imdb_votes:r.data.imdbVotes,type:r.data.Type,poster:r.data.Poster})},r=>{console.log(r)})}function u(t){axios.get("/ajax/fetch",{params:{search:t}}).then(r=>{o({movies:r.data.Search})},r=>{console.log(r)})}return a(p,{auth:i.auth,errors:i.errors,header:e("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Records"}),children:[e(h,{title:"Add Record"}),a("div",{className:"px-4 sm:px-6 lg:px-8 py-12",children:[a("div",{className:"sm:flex sm:items-center",children:[a("div",{className:"sm:flex-auto",children:[e("h1",{className:"text-xl font-semibold text-gray-900",children:"Add Record"}),e("p",{className:"mt-2 text-sm text-gray-700",children:"Create a new movie record by searching for a movie title or by entering the IMDb ID."})]}),e("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:e(b,{href:route("records.index"),className:"inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto",children:"Back to Records"})})]}),e("div",{className:"mt-5",children:e("form",{name:"createForm",onSubmit:m,children:a("div",{className:"overflow-hidden shadow sm:rounded-md",children:[e("div",{className:"bg-white px-4 py-5 sm:p-6",children:a("div",{className:"grid grid-cols-6 gap-6",children:[a("div",{className:"col-span-6 sm:col-span-5",children:[e("label",{htmlFor:"imdb_id",className:"block text-sm font-medium text-gray-700",children:"IMDb ID"}),a("div",{className:"flex items-center mt-1",children:[e("input",{type:"text",name:"imdb_id",value:s.imdb_id,onChange:t=>o("imdb_id",t.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("button",{type:"button",onClick:()=>l(s.imdb_id),className:"inline-flex items-center rounded-md border border-transparent bg-slate-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-slate-700 focus:outline-none focus:ring-2 focus:ring-slate-500 focus:ring-offset-2 whitespace-nowrap ml-2",children:"Fetch"})]}),e("span",{className:"text-red-600",children:d.imdb_id})]}),a("div",{className:"col-span-6 sm:col-span-3 relative",children:[e("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),e("input",{type:"text",name:"title",value:s.title,onChange:c,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),s.movies&&s.movies.length>0&&e("div",{className:"absolute bg-white w-full rounded-b-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 shadow sm:text-sm",children:s.movies.map(t=>a("div",{className:"p-2 hover:bg-gray-200 cursor-pointer",onClick:()=>l(t.imdbID),children:[t.Title," (",t.Year,")"]},t.imdbID))}),e("div",{className:"text-sm text-gray-600",children:"If you don't have an IMDb ID, you can search for a movie title here."}),e("span",{className:"text-red-600",children:d.title})]}),a("div",{className:"col-span-6 sm:col-span-4",children:[e("label",{htmlFor:"genres",className:"block text-sm font-medium text-gray-700",children:"Genres (comma separated)"}),e("input",{type:"text",name:"genres",value:s.genres,onChange:t=>o("genres",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("span",{className:"text-red-600",children:d.genre})]}),a("div",{className:"col-span-6 sm:col-span-2",children:[e("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700",children:"Type"}),a("select",{id:"type",name:"type",value:s.type,onChange:t=>o("type",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",children:[e("option",{value:"",children:"Select"}),e("option",{value:"movie",children:"Movie"}),e("option",{value:"series",children:"Series"})]}),e("span",{className:"text-red-600",children:d.type})]}),a("div",{className:"col-span-6 sm:col-span-2",children:[e("label",{htmlFor:"released_at",className:"block text-sm font-medium text-gray-700",children:"Released Date"}),e("input",{type:"text",name:"released_at",value:s.released_at,onChange:t=>o("released_at",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("span",{className:"text-red-600",children:d.released_at})]}),a("div",{className:"col-span-6 sm:col-span-2",children:[e("label",{htmlFor:"runtime",className:"block text-sm font-medium text-gray-700",children:"Runtime"}),e("input",{type:"text",name:"runtime",value:s.runtime,onChange:t=>o("runtime",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("span",{className:"text-red-600",children:d.runtime})]}),a("div",{className:"col-span-6 sm:col-span-4",children:[e("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Plot"}),e("textarea",{id:"description",name:"description",rows:5,onChange:t=>o("description",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",value:s.description}),e("span",{className:"text-red-600",children:d.plot})]}),a("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"actors",className:"block text-sm font-medium text-gray-700",children:"Actors"}),e("input",{type:"text",name:"actors",value:s.actors,onChange:t=>o("actors",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("span",{className:"text-red-600",children:d.actors})]}),a("div",{className:"col-span-6 sm:col-span-3",children:[e("label",{htmlFor:"directors",className:"block text-sm font-medium text-gray-700",children:"Director"}),e("input",{type:"text",name:"directors",value:s.director,onChange:t=>o("director",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("span",{className:"text-red-600",children:d.director})]}),a("div",{className:"col-span-6 sm:col-span-2",children:[e("label",{htmlFor:"imdb_rating",className:"block text-sm font-medium text-gray-700",children:"IMDb Rating"}),e("input",{type:"text",name:"imdb_rating",value:s.imdb_rating,onChange:t=>o("imdb_rating",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("span",{className:"text-red-600",children:d.imdb_rating})]}),a("div",{className:"col-span-6 sm:col-span-2",children:[e("label",{htmlFor:"imdb_votes",className:"block text-sm font-medium text-gray-700",children:"IMDb Votes"}),e("input",{type:"text",name:"imdb_votes",value:s.imdb_votes,onChange:t=>o("imdb_votes",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("span",{className:"text-red-600",children:d.imdb_votes})]}),a("div",{className:"col-span-6 sm:col-span-2",children:[e("label",{htmlFor:"meta_score",className:"block text-sm font-medium text-gray-700",children:"Metascore"}),e("input",{type:"text",name:"meta_score",value:s.meta_score,onChange:t=>o("meta_score",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("span",{className:"text-red-600",children:d.meta_score})]}),a("div",{className:"col-span-6 sm:col-span-4",children:[e("label",{htmlFor:"poster",className:"block text-sm font-medium text-gray-700",children:"Poster"}),e("input",{type:"text",name:"poster",value:s.poster,onChange:t=>o("poster",t.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"}),e("span",{className:"text-red-600",children:d.poster}),s.poster&&e("div",{className:"mt-2",children:e("img",{src:s.poster,alt:"Poster",className:"w-32 shadow-xl rounded-md"})})]})]})}),e("div",{className:"bg-gray-50 px-4 py-3 text-right sm:px-6",children:e("button",{type:"submit",className:"inline-flex justify-center rounded-md border border-transparent bg-indigo-600 py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2",children:"Create"})})]})})})]})]})}export{y as default};
